<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Baca</title>
</head>
<body>

<div id="content"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="assets/js/supabase.js"></script>
<script>
const id = new URLSearchParams(location.search).get("id");

async function load() {
  const { data } = await supabase
    .from("chapters")
    .select("*")
    .eq("id", id)
    .single();

  document.getElementById("content").innerHTML = `
    <h2>${data.title}</h2>
    ${data.illustration_url ? `<img src="${data.illustration_url}" width="100%">` : ""}
    <p style="white-space:pre-line">${data.content}</p>
  `;
}
load();
</script>
</body>
</html>
